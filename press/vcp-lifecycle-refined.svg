<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" width="1200" height="800">
  <defs>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap');
      .title { font: 700 28px 'Inter', -apple-system, sans-serif; fill: #0f172a; }
      .subtitle { font: 500 14px 'Inter', sans-serif; fill: #64748b; letter-spacing: 0.5px; }
      .phase-title { font: 600 14px 'Inter', sans-serif; fill: #fff; }
      .event-code { font: 700 11px 'Inter', monospace; fill: rgba(255,255,255,0.95); }
      .event-name { font: 600 10px 'Inter', sans-serif; fill: rgba(255,255,255,0.9); }
      .field-label { font: 500 9px 'Inter', sans-serif; fill: rgba(255,255,255,0.85); }
      .module-badge { font: 600 8px 'Inter', sans-serif; }
      .hash-label { font: 500 9px 'Inter', monospace; fill: rgba(255,255,255,0.75); }
      .guarantee-title { font: 600 14px 'Inter', sans-serif; fill: #1e3a5f; }
      .guarantee-item { font: 500 11px 'Inter', sans-serif; fill: #475569; }
      .footer { font: 400 10px 'Inter', sans-serif; fill: #94a3b8; }
      .arrow-main { fill: none; stroke: #94a3b8; stroke-width: 2; }
      .arrow-head { fill: #64748b; }
    </style>
    
    <!-- Arrow markers -->
    <marker id="arrow-right" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" class="arrow-head"/>
    </marker>
    <marker id="arrow-down" markerWidth="10" markerHeight="10" refX="5" refY="8" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" class="arrow-head"/>
    </marker>
    
    <!-- Gradients for phases -->
    <linearGradient id="grad-sig" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#6366f1"/>
      <stop offset="100%" stop-color="#4f46e5"/>
    </linearGradient>
    <linearGradient id="grad-risk" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f59e0b"/>
      <stop offset="100%" stop-color="#d97706"/>
    </linearGradient>
    <linearGradient id="grad-ord" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#10b981"/>
      <stop offset="100%" stop-color="#059669"/>
    </linearGradient>
    <linearGradient id="grad-ack" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#06b6d4"/>
      <stop offset="100%" stop-color="#0891b2"/>
    </linearGradient>
    <linearGradient id="grad-exe" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#3b82f6"/>
      <stop offset="100%" stop-color="#2563eb"/>
    </linearGradient>
    <linearGradient id="grad-cls" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#8b5cf6"/>
      <stop offset="100%" stop-color="#7c3aed"/>
    </linearGradient>
    
    <!-- Drop shadow filter -->
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="130%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.15"/>
    </filter>
    
    <!-- Subtle glow for hash chain -->
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#fafbfc"/>
  
  <!-- Header Section -->
  <g id="header">
    <text x="600" y="42" text-anchor="middle" class="title">VCP Event Lifecycle</text>
    <text x="600" y="65" text-anchor="middle" class="subtitle">From Signal to Settlement — Cryptographically Verified at Every Step</text>
    
    <!-- VSO Badge -->
    <g transform="translate(50, 25)">
      <rect x="0" y="0" width="100" height="28" rx="4" fill="#0f172a"/>
      <text x="50" y="18" text-anchor="middle" font-size="10" fill="#fff" font-weight="600" font-family="Inter, sans-serif">VeritasChain</text>
    </g>
    
    <!-- Tier Legend -->
    <g transform="translate(1000, 25)">
      <rect x="0" y="0" width="150" height="28" rx="4" fill="#f1f5f9" stroke="#e2e8f0"/>
      <circle cx="20" cy="14" r="5" fill="#6366f1"/>
      <text x="30" y="18" font-size="8" fill="#475569" font-family="Inter, sans-serif">Platinum</text>
      <circle cx="75" cy="14" r="5" fill="#10b981"/>
      <text x="85" y="18" font-size="8" fill="#475569" font-family="Inter, sans-serif">Gold</text>
      <circle cx="120" cy="14" r="5" fill="#94a3b8"/>
      <text x="130" y="18" font-size="8" fill="#475569" font-family="Inter, sans-serif">Silver</text>
    </g>
  </g>
  
  <!-- Main Flow Area -->
  <g id="main-flow" transform="translate(0, 20)">
    
    <!-- Phase 1: SIG (Signal Generation) -->
    <g id="phase-sig" transform="translate(50, 100)" filter="url(#shadow)">
      <rect width="170" height="150" rx="12" fill="url(#grad-sig)"/>
      
      <!-- Module badges -->
      <g transform="translate(10, 10)">
        <rect width="55" height="16" rx="3" fill="rgba(255,255,255,0.2)"/>
        <text x="27" y="11" text-anchor="middle" class="module-badge" fill="#fff">VCP-GOV</text>
      </g>
      
      <!-- Event info -->
      <text x="85" y="50" text-anchor="middle" class="phase-title">Signal Generation</text>
      <rect x="60" y="58" width="50" height="18" rx="4" fill="rgba(0,0,0,0.2)"/>
      <text x="85" y="71" text-anchor="middle" class="event-code">SIG = 1</text>
      
      <!-- Fields -->
      <text x="15" y="100" class="field-label">• AlgoID + ModelHash</text>
      <text x="15" y="114" class="field-label">• DecisionFactors (XAI)</text>
      <text x="15" y="128" class="field-label">• ConfidenceScore</text>
      
      <!-- Hash notation -->
      <text x="85" y="145" text-anchor="middle" class="hash-label">H₁ = SHA256(event)</text>
    </g>
    
    <!-- Arrow 1→2 -->
    <path d="M 230 175 L 275 175" class="arrow-main" marker-end="url(#arrow-right)"/>
    
    <!-- Phase 2: Risk Check (Pre-trade) -->
    <g id="phase-risk" transform="translate(285, 100)" filter="url(#shadow)">
      <rect width="170" height="150" rx="12" fill="url(#grad-risk)"/>
      
      <g transform="translate(10, 10)">
        <rect width="55" height="16" rx="3" fill="rgba(255,255,255,0.2)"/>
        <text x="27" y="11" text-anchor="middle" class="module-badge" fill="#fff">VCP-RISK</text>
      </g>
      
      <text x="85" y="50" text-anchor="middle" class="phase-title">Pre-Trade Risk</text>
      <rect x="55" y="58" width="60" height="18" rx="4" fill="rgba(0,0,0,0.2)"/>
      <text x="85" y="71" text-anchor="middle" class="event-code">RSK = 21</text>
      
      <text x="15" y="100" class="field-label">• MaxOrderSize Check</text>
      <text x="15" y="114" class="field-label">• ExposureUtilization</text>
      <text x="15" y="128" class="field-label">• TriggeredControls</text>
      
      <text x="85" y="145" text-anchor="middle" class="hash-label">H₂ = SHA256(H₁||event)</text>
    </g>
    
    <!-- Arrow 2→3 -->
    <path d="M 465 175 L 510 175" class="arrow-main" marker-end="url(#arrow-right)"/>
    
    <!-- Phase 3: ORD (Order Sent) -->
    <g id="phase-ord" transform="translate(520, 100)" filter="url(#shadow)">
      <rect width="170" height="150" rx="12" fill="url(#grad-ord)"/>
      
      <g transform="translate(10, 10)">
        <rect width="65" height="16" rx="3" fill="rgba(255,255,255,0.2)"/>
        <text x="32" y="11" text-anchor="middle" class="module-badge" fill="#fff">VCP-TRADE</text>
      </g>
      
      <text x="85" y="50" text-anchor="middle" class="phase-title">Order Sent</text>
      <rect x="55" y="58" width="60" height="18" rx="4" fill="rgba(0,0,0,0.2)"/>
      <text x="85" y="71" text-anchor="middle" class="event-code">ORD = 2</text>
      
      <text x="15" y="100" class="field-label">• OrderID, Symbol, Side</text>
      <text x="15" y="114" class="field-label">• Price, Quantity (String)</text>
      <text x="15" y="128" class="field-label">• OrderType, VenueID</text>
      
      <text x="85" y="145" text-anchor="middle" class="hash-label">H₃ = SHA256(H₂||event)</text>
    </g>
    
    <!-- Arrow 3→4 -->
    <path d="M 700 175 L 745 175" class="arrow-main" marker-end="url(#arrow-right)"/>
    
    <!-- Phase 4: ACK (Acknowledged) -->
    <g id="phase-ack" transform="translate(755, 100)" filter="url(#shadow)">
      <rect width="170" height="150" rx="12" fill="url(#grad-ack)"/>
      
      <g transform="translate(10, 10)">
        <rect width="65" height="16" rx="3" fill="rgba(255,255,255,0.2)"/>
        <text x="32" y="11" text-anchor="middle" class="module-badge" fill="#fff">VCP-TRADE</text>
      </g>
      
      <text x="85" y="50" text-anchor="middle" class="phase-title">Order Acknowledged</text>
      <rect x="55" y="58" width="60" height="18" rx="4" fill="rgba(0,0,0,0.2)"/>
      <text x="85" y="71" text-anchor="middle" class="event-code">ACK = 3</text>
      
      <text x="15" y="100" class="field-label">• BrokerOrderID</text>
      <text x="15" y="114" class="field-label">• ExchangeTimestamp</text>
      <text x="15" y="128" class="field-label">• AckStatus</text>
      
      <text x="85" y="145" text-anchor="middle" class="hash-label">H₄ = SHA256(H₃||event)</text>
    </g>
    
    <!-- Arrow 4→5 (down and left) -->
    <path d="M 840 260 L 840 300 L 925 300 L 925 340" class="arrow-main" stroke-dasharray="5,3"/>
    
    <!-- Phase 5: EXE (Execution) -->
    <g id="phase-exe" transform="translate(755, 350)" filter="url(#shadow)">
      <rect width="170" height="150" rx="12" fill="url(#grad-exe)"/>
      
      <g transform="translate(10, 10)">
        <rect width="65" height="16" rx="3" fill="rgba(255,255,255,0.2)"/>
        <text x="32" y="11" text-anchor="middle" class="module-badge" fill="#fff">VCP-TRADE</text>
      </g>
      
      <text x="85" y="50" text-anchor="middle" class="phase-title">Trade Execution</text>
      <rect x="55" y="58" width="60" height="18" rx="4" fill="rgba(0,0,0,0.2)"/>
      <text x="85" y="71" text-anchor="middle" class="event-code">EXE = 4</text>
      
      <text x="15" y="100" class="field-label">• ExecutionPrice</text>
      <text x="15" y="114" class="field-label">• ExecutedQty</text>
      <text x="15" y="128" class="field-label">• Slippage, Commission</text>
      
      <text x="85" y="145" text-anchor="middle" class="hash-label">H₅ = SHA256(H₄||event)</text>
    </g>
    
    <!-- Arrow 5→6 -->
    <path d="M 745 425 L 700 425" class="arrow-main" marker-end="url(#arrow-right)" transform="rotate(180 722 425)"/>
    
    <!-- Phase 6: CLS (Position Closed) -->
    <g id="phase-cls" transform="translate(520, 350)" filter="url(#shadow)">
      <rect width="170" height="150" rx="12" fill="url(#grad-cls)"/>
      
      <g transform="translate(10, 10)">
        <rect width="65" height="16" rx="3" fill="rgba(255,255,255,0.2)"/>
        <text x="32" y="11" text-anchor="middle" class="module-badge" fill="#fff">VCP-TRADE</text>
      </g>
      
      <text x="85" y="50" text-anchor="middle" class="phase-title">Position Closed</text>
      <rect x="55" y="58" width="60" height="18" rx="4" fill="rgba(0,0,0,0.2)"/>
      <text x="85" y="71" text-anchor="middle" class="event-code">CLS = 9</text>
      
      <text x="15" y="100" class="field-label">• RealizedPnL</text>
      <text x="15" y="114" class="field-label">• TotalCommission</text>
      <text x="15" y="128" class="field-label">• SettlementStatus</text>
      
      <text x="85" y="145" text-anchor="middle" class="hash-label">H₆ = SHA256(H₅||event)</text>
    </g>
    
    <!-- Optional flows: REJ/CXL/PRT -->
    <g id="optional-flows" opacity="0.6">
      <!-- REJ path from Risk -->
      <path d="M 370 260 L 370 310" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="4,2" fill="none"/>
      <rect x="340" y="310" width="60" height="20" rx="4" fill="#ef4444" opacity="0.9"/>
      <text x="370" y="323" text-anchor="middle" font-size="9" fill="#fff" font-weight="600">REJ = 6</text>
      
      <!-- CXL path from ACK -->
      <path d="M 840 260 L 840 310" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,2" fill="none"/>
      <rect x="810" y="310" width="60" height="20" rx="4" fill="#94a3b8"/>
      <text x="840" y="323" text-anchor="middle" font-size="9" fill="#fff" font-weight="600">CXL = 7</text>
      
      <!-- PRT path -->
      <text x="960" y="440" font-size="9" fill="#64748b" font-style="italic">PRT = 5 (Partial)</text>
    </g>
  </g>
  
  <!-- VCP-CORE Header Box -->
  <g id="core-header" transform="translate(50, 350)">
    <rect width="200" height="170" rx="10" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1.5"/>
    <rect width="200" height="30" rx="10" fill="#0f172a"/>
    <text x="100" y="20" text-anchor="middle" font-size="11" fill="#fff" font-weight="600">VCP-CORE Header</text>
    
    <text x="15" y="50" font-size="9" fill="#64748b" font-weight="600">Every Event Contains:</text>
    <text x="15" y="70" font-size="9" fill="#334155">• EventID (UUID v7)</text>
    <text x="15" y="85" font-size="9" fill="#334155">• TraceID (CAT Rule 613)</text>
    <text x="15" y="100" font-size="9" fill="#334155">• Timestamp (Nanoseconds)</text>
    <text x="15" y="115" font-size="9" fill="#334155">• ClockSyncStatus</text>
    <text x="15" y="130" font-size="9" fill="#334155">• HashAlgo (SHA256)</text>
    <text x="15" y="145" font-size="9" fill="#334155">• SignAlgo (Ed25519)</text>
    <text x="15" y="160" font-size="9" fill="#334155">• VenueID, Symbol</text>
  </g>
  
  <!-- Hash Chain Visualization -->
  <g id="hash-chain-viz" transform="translate(280, 360)">
    <rect width="210" height="160" rx="10" fill="#f0fdf4" stroke="#86efac" stroke-width="1.5"/>
    <text x="105" y="22" text-anchor="middle" font-size="11" fill="#166534" font-weight="600">Hash Chain Integrity</text>
    
    <!-- Chain visualization -->
    <g transform="translate(20, 40)">
      <rect x="0" y="0" width="40" height="20" rx="4" fill="#6366f1"/>
      <text x="20" y="14" text-anchor="middle" font-size="8" fill="#fff">H₁</text>
      <path d="M 45 10 L 55 10" stroke="#334155" stroke-width="1.5" marker-end="url(#arrow-right)"/>
      
      <rect x="60" y="0" width="40" height="20" rx="4" fill="#f59e0b"/>
      <text x="80" y="14" text-anchor="middle" font-size="8" fill="#fff">H₂</text>
      <path d="M 105 10 L 115 10" stroke="#334155" stroke-width="1.5" marker-end="url(#arrow-right)"/>
      
      <rect x="120" y="0" width="40" height="20" rx="4" fill="#10b981"/>
      <text x="140" y="14" text-anchor="middle" font-size="8" fill="#fff">H₃</text>
      
      <text x="85" y="40" text-anchor="middle" font-size="8" fill="#475569">Each hash includes previous</text>
    </g>
    
    <!-- Merkle tree hint -->
    <g transform="translate(20, 95)">
      <text x="0" y="0" font-size="9" fill="#166534" font-weight="500">Merkle Root Anchor:</text>
      <rect x="0" y="10" width="170" height="18" rx="3" fill="#166534"/>
      <text x="85" y="23" text-anchor="middle" font-size="8" fill="#fff" font-family="monospace">RFC 6962 Compliant</text>
      
      <text x="0" y="50" font-size="8" fill="#475569">→ Blockchain / TSA anchored</text>
    </g>
  </g>
  
  <!-- Cryptographic Guarantees Section -->
  <g id="guarantees" transform="translate(50, 560)">
    <rect width="1100" height="100" rx="12" fill="#fff" stroke="#e2e8f0" stroke-width="1.5" filter="url(#shadow)"/>
    
    <text x="550" y="28" text-anchor="middle" class="guarantee-title">Cryptographic Guarantees — "Verify, Don't Trust"</text>
    
    <!-- Left column -->
    <g transform="translate(80, 45)">
      <circle cx="0" cy="6" r="4" fill="#10b981"/>
      <text x="15" y="10" class="guarantee-item">Tamper-Evident Hash Chain (SHA-256)</text>
      
      <circle cx="0" cy="30" r="4" fill="#10b981"/>
      <text x="15" y="34" class="guarantee-item">Chronological UUID v7 Ordering</text>
    </g>
    
    <!-- Center column -->
    <g transform="translate(420, 45)">
      <circle cx="0" cy="6" r="4" fill="#6366f1"/>
      <text x="15" y="10" class="guarantee-item">Ed25519 Digital Signatures</text>
      
      <circle cx="0" cy="30" r="4" fill="#6366f1"/>
      <text x="15" y="34" class="guarantee-item">RFC 8785 JSON Canonicalization</text>
    </g>
    
    <!-- Right column -->
    <g transform="translate(760, 45)">
      <circle cx="0" cy="6" r="4" fill="#3b82f6"/>
      <text x="15" y="10" class="guarantee-item">Merkle Tree Anchoring (RFC 6962)</text>
      
      <circle cx="0" cy="30" r="4" fill="#3b82f6"/>
      <text x="15" y="34" class="guarantee-item">Regulatory Ready (MiFID II, EU AI Act)</text>
    </g>
  </g>
  
  <!-- Footer -->
  <g id="footer">
    <text x="600" y="700" text-anchor="middle" class="footer">
      VeritasChain Protocol (VCP) v1.0 — VeritasChain Standards Organization (VSO) — CC BY 4.0 International
    </text>
    <text x="600" y="718" text-anchor="middle" class="footer">
      veritaschain.org • github.com/veritaschain • Encoding Trust in the Algorithmic Age
    </text>
  </g>
  
  <!-- Decorative elements -->
  <circle cx="1150" cy="50" r="30" fill="#6366f1" opacity="0.05"/>
  <circle cx="50" cy="750" r="40" fill="#10b981" opacity="0.05"/>
  
</svg>
